<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      html {
        scroll-behavior: smooth;
      }
    </style>
  </head>
  <body>
    <section class="fixed top-0 left-0 container mx-auto px-44 py-6 sm:mt-6">
      <nav class="relative flex justify-between border-b border-gray-300">
        <a
          href="#home"
          class="nav-link flex-1 text-center py-4 text-gray-700 font-semibold hover:text-blue-600"
          >Home</a
        >
        <a
          href="#about"
          class="nav-link flex-1 text-center py-4 text-gray-700 font-semibold hover:text-blue-600"
          >About</a
        >
        <a
          href="#services"
          class="nav-link flex-1 text-center py-4 text-gray-700 font-semibold hover:text-blue-600"
          >Services</a
        >
        <a
          href="#contact"
          class="nav-link flex-1 text-center py-4 text-gray-700 font-semibold hover:text-blue-600"
          >Contact</a
        >

        <!-- Underline element that slides smoothly -->
        <div
          id="active-link-indicator"
          class="absolute bottom-0 left-0 h-1 w-0 bg-blue-600 transition-all duration-300 ease-in-out"
        ></div>
      </nav>
    </section>

    <!-- Example sections for scrolling -->
    <section
      id="home"
      class="h-screen flex items-center justify-center bg-gray-100"
    >
      Home Content
    </section>
    <section
      id="about"
      class="h-screen flex items-center justify-center bg-gray-200"
    >
      About Content
    </section>
    <section
      id="services"
      class="h-screen flex items-center justify-center bg-gray-300"
    >
      Services Content
    </section>
    <section
      id="contact"
      class="h-screen flex items-center justify-center bg-gray-400"
    >
      Contact Content
    </section>

    <!-- JavaScript to Handle Smooth Active Link Indicator -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const sections = document.querySelectorAll("section[id]");
        const navLinks = document.querySelectorAll(".nav-link");
        const indicator = document.getElementById("active-link-indicator");

        function updateActiveLink() {
          let scrollY = window.scrollY;
          let activeLink = navLinks[0]; // Default to first link

          sections.forEach((section) => {
            const sectionTop = section.offsetTop - 150;
            const sectionHeight = section.offsetHeight;
            const sectionId = section.getAttribute("id");

            if (scrollY >= sectionTop && scrollY < sectionTop + sectionHeight) {
              activeLink = document.querySelector(
                `.nav-link[href="#${sectionId}"]`
              );
            }
          });

          // Move the underline smoothly to the active link
          if (activeLink) {
            const { offsetLeft, offsetWidth } = activeLink;
            indicator.style.width = `${offsetWidth}px`;
            indicator.style.transform = `translateX(${offsetLeft}px)`;
          }
        }

        window.addEventListener("scroll", updateActiveLink);
        window.addEventListener("resize", updateActiveLink);
        updateActiveLink(); // Run on page load
      });
    </script>
  </body>
</html>
